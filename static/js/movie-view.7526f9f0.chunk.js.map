{"version":3,"sources":["components/MovieCard/MovieCard.module.css","components/MovieCard/MovieCard.js","images/arrow-back.svg","views/MovieDetailsView.js","components/Container/Container.js","components/List/List.js","services/api.js","components/Container/Container.module.css","components/List/List.module.css","components/Button/Button.js","components/Button/Button.module.css"],"names":["module","exports","MovieCard","title","score","poster","overview","genres","date","id","className","s","Card__poster","Card__image","alt","src","Card__subcontainer","Card__genres","map","name","join","AddInfo","lazy","MovieDetailsView","useState","budget","runtime","movie","setMovie","useParams","location","useLocation","console","log","pathname","state","from","search","navigate","useNavigate","reviews","setReviews","cast","setCast","useEffect","axios","get","BASE","API_KEY","then","response","data","results","catch","error","message","vote_average","poster_path","release_date","Container","Button","icon","onClick","type","text","children","additionalClass","List","heading","classProp"],"mappings":"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","file":"static/js/movie-view.7526f9f0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card__genres\":\"MovieCard_Card__genres__3okEt\",\"Card__poster\":\"MovieCard_Card__poster__1Ho3W\",\"Card__image\":\"MovieCard_Card__image__3IY0o\",\"MovieCard\":\"MovieCard_MovieCard__1XTGt\",\"Card__subcontainer\":\"MovieCard_Card__subcontainer__3MMOd\"};","// user score\n// overview\n// genres\n\nimport Container from 'components/Container/Container';\nimport List from 'components/List/List';\nimport s from 'components/MovieCard/MovieCard.module.css';\n\nexport default function MovieCard({\n  title,\n  score,\n  poster,\n  overview,\n  genres,\n  id,\n  date,\n}) {\n  // console.log(genres);\n  // console.log(date);\n\n  return (\n    <article className={s.MovieCard}>\n      <div className={s.Card__poster}>\n        <img\n          className={s.Card__image}\n          alt={title}\n          src={`https://image.tmdb.org/t/p/w300/${poster}`}\n        />\n      </div>\n      <div className={s.Card__subcontainer}>\n        <h2>{`${title} (${date})`}</h2>\n\n        <p className={s.Card__genres}>\n          {genres.map(({ name }) => name).join(', ')}\n        </p>\n        <p>Rating {score > 0 && score}</p>\n        <p>{overview}</p>\n      </div>\n    </article>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/arrow-back.b74b51c4.svg\";","// go back button\n\nimport { useParams, useNavigate, useLocation } from 'react-router';\nimport { lazy } from 'react';\nimport { Link, Navigate } from 'react-router-dom';\nimport MovieCard from 'components/MovieCard/MovieCard';\nimport axios from 'axios';\nimport { API_KEY, BASE } from 'services/api';\nimport Button from 'components/Button/Button';\nimport { useState, useEffect } from 'react';\nimport Icon from 'images/arrow-back.svg';\nimport Container from 'components/Container/Container';\n\nconst AddInfo = lazy(() =>\n  import('components/AddInfo/AddInfo' /*webpackChunkName: \"add-info\" */),\n);\n\nexport default function MovieDetailsView() {\n  const [movie, setMovie] = useState({ budget: 0, runtime: 0 });\n  const { id } = useParams();\n  const location = useLocation();\n  console.log('mdv', location);\n  const pathname = location.state?.from?.pathname;\n  const search = location.state?.from?.search;\n  console.log('search', search);\n  const navigate = useNavigate();\n\n  const [reviews, setReviews] = useState([]);\n  const [cast, setCast] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(\n        `${BASE}/movie/${id}?api_key=${API_KEY}&language=en-US\n`,\n      )\n      .then(response => {\n        setMovie(response.data);\n        // console.log(response.data);\n        // console.log(movie);\n      });\n  }, [id]);\n\n  useEffect(() => {\n    axios\n      .get(\n        `${BASE}/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`,\n      )\n      .then(response => setReviews(response.data.results))\n      .catch(error => console.log(error.message));\n    // console.log(reviews);\n  }, [id]);\n\n  useEffect(() => {\n    axios\n      .get(`${BASE}/movie/${id}/credits?api_key=${API_KEY}&language=en-US`)\n      .then(response => setCast(response.data.cast))\n      .catch(error => console.log(error.message));\n\n    console.log(cast);\n  }, [id]);\n  const onGoBack = () => {\n    navigate(`${pathname}${search}`);\n  };\n  const {\n    vote_average,\n    title,\n    poster_path,\n    overview,\n    release_date,\n    genres = [],\n  } = movie;\n  return (\n    <Container>\n      <Button icon={<Icon />} onClick={onGoBack} type=\"button\" text=\"Go back\">\n        {/* <Link to={pathname ? `${pathname}${search}` : '/movies'}>go back</Link> */}\n      </Button>\n      <MovieCard\n        score={vote_average}\n        title={title}\n        poster={poster_path}\n        overview={overview}\n        genres={genres}\n        id={id}\n        date={release_date}\n      />\n      <AddInfo id={id} title={title} reviews={reviews} cast={cast} />\n    </Container>\n  );\n}\n","import s from 'components/Container/Container.module.css';\n\nexport default function Container({ children, additionalClass }) {\n  return (\n    <div className={`${additionalClass}, ${s.Container} `}>{children}</div>\n  );\n}\n","import s from 'components/List/List.module.css';\n\nexport default function List({\n  children,\n  heading,\n  additionalClass,\n  classProp,\n}) {\n  return (\n    <>\n      <h2 className={classProp}>{heading}</h2>\n      <ul className={`${s.List}, ${additionalClass}`}>{children}</ul>\n    </>\n  );\n}\n","export const API_KEY = '6fc149a4cf08bb260c2094f65b6f8095';\nexport const BASE = 'https://api.themoviedb.org/3';\n\nexport async function fetchMovies(value, page) {\n  return await fetch(`${BASE}/search/movie?api_key=${API_KEY}&query=${value}`)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n    })\n    .then(data => data);\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__RbBaM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"List\":\"List_List__21E3Q\"};","import s from 'components/Button/Button.module.css';\n\nexport default function Button({ type, text, onClick, children }) {\n  return (\n    <button className={s.Button} type={type} onClick={onClick}>\n      {text} {children}\n    </button>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2wZpR\"};"],"sourceRoot":""}