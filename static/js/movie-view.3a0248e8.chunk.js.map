{"version":3,"sources":["components/Container/Container.js","services/api.js","components/Container/Container.module.css","components/Button/Button.js","components/Button/Button.module.css","components/MovieCard/MovieCard.module.css","components/MovieCard/MovieCard.js","images/arrow-back.svg","views/MovieDetailsView.js"],"names":["Container","children","additionalClass","className","s","API_KEY","BASE","module","exports","Button","type","text","onClick","MovieCard","title","score","poster","overview","genres","date","Card__poster","Card__image","alt","src","Card__subcontainer","Card__genres","map","name","join","AddInfo","lazy","MovieDetailsView","useState","budget","runtime","movie","setMovie","id","useParams","location","useLocation","console","log","state","from","pathname","search","navigate","useNavigate","loading","setLoading","reviews","setReviews","cast","setCast","useEffect","axios","get","then","response","data","results","catch","error","message","finally","vote_average","poster_path","release_date","icon"],"mappings":"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","file":"static/js/movie-view.3a0248e8.chunk.js","sourcesContent":["import s from 'components/Container/Container.module.css';\n\nimport PropTypes from 'prop-types';\n\nexport default function Container({ children, additionalClass }) {\n  return (\n    <div className={`${additionalClass}, ${s.Container} `}>{children}</div>\n  );\n}\n\nContainer.propTypes = {\n  children: PropTypes.any,\n  additionalClass: PropTypes.string,\n};\n","export const API_KEY = '6fc149a4cf08bb260c2094f65b6f8095';\nexport const BASE = 'https://api.themoviedb.org/3';\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__RbBaM\"};","import s from 'components/Button/Button.module.css';\n\nimport PropTypes from 'prop-types';\n\nexport default function Button({ type, text, onClick, children }) {\n  return (\n    <button className={s.Button} type={type} onClick={onClick}>\n      {text} {children}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  type: PropTypes.string,\n  text: PropTypes.string,\n  onClick: PropTypes.func,\n  children: PropTypes.any,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2wZpR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card__genres\":\"MovieCard_Card__genres__3okEt\",\"Card__poster\":\"MovieCard_Card__poster__1Ho3W\",\"Card__image\":\"MovieCard_Card__image__3IY0o\",\"MovieCard\":\"MovieCard_MovieCard__1XTGt\",\"Card__subcontainer\":\"MovieCard_Card__subcontainer__3MMOd\"};","import s from 'components/MovieCard/MovieCard.module.css';\n\nimport PropTypes from 'prop-types';\n\nexport default function MovieCard({\n  title,\n  score,\n  poster,\n  overview,\n  genres,\n  date,\n}) {\n  // console.log(genres);\n  // console.log(date);\n\n  return (\n    <article className={s.MovieCard}>\n      <div className={s.Card__poster}>\n        <img\n          className={s.Card__image}\n          alt={title}\n          src={`https://image.tmdb.org/t/p/w300/${poster}`}\n        />\n      </div>\n      <div className={s.Card__subcontainer}>\n        <h2>{`${title} (${date})`}</h2>\n\n        <p className={s.Card__genres}>\n          {genres.map(({ name }) => name).join(', ')}\n        </p>\n        <p>Rating {score > 0 && score}</p>\n        <p>{overview}</p>\n      </div>\n    </article>\n  );\n}\n\nMovieCard.propTypes = {\n  title: PropTypes.string,\n  score: PropTypes.number,\n  poster: PropTypes.string,\n  overview: PropTypes.string,\n  genres: PropTypes.array,\n  date: PropTypes.string,\n};\n","export default __webpack_public_path__ + \"static/media/arrow-back.b74b51c4.svg\";","import axios from 'axios';\nimport { API_KEY, BASE } from 'services/api';\n\nimport { useState, useEffect } from 'react';\nimport { useParams, useNavigate, useLocation } from 'react-router';\nimport { lazy } from 'react';\n\nimport MovieCard from 'components/MovieCard/MovieCard';\nimport Button from 'components/Button/Button';\nimport Container from 'components/Container/Container';\nimport Icon from 'images/arrow-back.svg';\nimport Loading from 'components/Loader/Loader';\n\nconst AddInfo = lazy(() =>\n  import('components/AddInfo/AddInfo' /*webpackChunkName: \"add-info\" */),\n);\n\nexport default function MovieDetailsView() {\n  const [movie, setMovie] = useState({ budget: 0, runtime: 0 });\n  const { id } = useParams();\n  const location = useLocation();\n  console.log('mdv', location);\n  const pathname = location.state?.from?.pathname;\n  const search = location.state?.from?.search;\n  console.log('search', search);\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n\n  const [reviews, setReviews] = useState([]);\n  const [cast, setCast] = useState([]);\n\n  useEffect(() => {\n    setLoading(true);\n    axios\n      .get(\n        `${BASE}/movie/${id}?api_key=${API_KEY}&language=en-US\n`,\n      )\n      .then(response => {\n        setMovie(response.data);\n        // console.log(response.data);\n        // console.log(movie);\n      });\n  }, [id]);\n\n  useEffect(() => {\n    setLoading(true);\n    axios\n      .get(\n        `${BASE}/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`,\n      )\n      .then(response => setReviews(response.data.results))\n      .catch(error => console.log(error.message))\n      .finally(() => setLoading(false));\n    // console.log(reviews);\n  }, [id]);\n\n  useEffect(() => {\n    axios\n      .get(`${BASE}/movie/${id}/credits?api_key=${API_KEY}&language=en-US`)\n      .then(response => setCast(response.data.cast))\n      .catch(error => console.log(error.message))\n      .finally(() => setLoading(false));\n\n    // console.log(cast);\n  }, [id]);\n  const onGoBack = () => {\n    navigate(-1);\n  };\n  const {\n    vote_average,\n    title,\n    poster_path,\n    overview,\n    release_date,\n    genres = [],\n  } = movie;\n  return (\n    <>\n      {loading ? (\n        <Loading />\n      ) : (\n        <Container>\n          <Button\n            icon={<Icon />}\n            onClick={onGoBack}\n            type=\"button\"\n            text=\"Go back\"\n          >\n            {/* <Link to={pathname ? `${pathname}${search}` : '/movies'}>go back</Link> */}\n          </Button>\n          <MovieCard\n            score={vote_average}\n            title={title}\n            poster={poster_path}\n            overview={overview}\n            genres={genres}\n            id={id}\n            date={release_date}\n          />\n          <AddInfo id={id} title={title} reviews={reviews} cast={cast} />\n        </Container>\n      )}\n    </>\n  );\n}\n"],"sourceRoot":""}